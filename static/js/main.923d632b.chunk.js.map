{"version":3,"sources":["components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","components/AppBar/AppBar.module.css","redux/contacts/contacts-operations.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","components/Navigation/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js"],"names":["module","exports","filterContacts","createAction","checkUniqName","items","createReducer","fetchContacts","fulfilled","_","payload","addContact","state","deleteContact","filter","contact","id","action","loading","pending","rejected","error","combineReducers","axios","defaults","baseURL","createAsyncThunk","a","get","response","data","post","delete","contactsOperations","token","headers","common","Authorization","register","credentials","console","log","logIn","message","operations","logOut","fetchCurrentUser","thunkAPI","getState","persistedToken","auth","rejectWithValue","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","name","getIsFetchingCurrentUser","isFetchingCurrentUser","getAuthError","authSlice","createSlice","initialState","email","extraReducers","authOperations","Navigation","useSelector","to","exact","className","s","link","activeClassName","active","UserMenu","dispatch","useDispatch","avatar","defaultAvatar","container","src","alt","width","exit","type","onClick","AuthNav","activeLink","AppBar","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","ContactsView","App","userName","useEffect","fallback","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","blacklist","whitelist","store","configureStore","reducer","contacts","contactReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.923d632b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3O1Uj\",\"active\":\"Navigation_active__3m0Ji\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2wV-z\",\"avatar\":\"UserMenu_avatar___VHIv\",\"name\":\"UserMenu_name__9WWA4\",\"exit\":\"UserMenu_exit__BZlYK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1n0UE\",\"activeLink\":\"AuthNav_activeLink__2RqhB\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\nexport const fetchContactError = createAction('contacts/fetchContactError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const filterContacts = createAction('contacts/filter');\nexport const checkUniqName = createAction('contacts/uniqName');\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { filterContacts, checkUniqName } from './contacts-actions';\nimport {\n  fetchContacts,\n  addContact,\n  deleteContact,\n} from './contacts-operations';\n\nconst items = createReducer([], {\n  [fetchContacts.fulfilled]: (_, { payload }) => payload,\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\n  [deleteContact.fulfilled]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n  [checkUniqName]: state => state,\n});\n\nconst filter = createReducer('', {\n  [filterContacts]: (_, action) => action.payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContacts.pending]: () => true,\n  [fetchContacts.fulfilled]: () => false,\n  [fetchContacts.rejected]: () => false,\n  [addContact.pending]: () => true,\n  [addContact.fulfilled]: () => false,\n  [addContact.rejected]: () => false,\n  // [deleteContact.pending]: () => true,\n  [deleteContact.fulfilled]: () => false,\n  [deleteContact.rejected]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContacts.pending]: () => null,\n  [fetchContacts.rejected]: (_, { payload }) => payload,\n  [fetchContacts.rejected]: (_, { payload }) => payload,\n  [addContact.pending]: () => null,\n  [addContact.rejected]: (_, { payload }) => payload,\n  [deleteContact.pending]: () => null,\n  [deleteContact.rejected]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__20V_-\"};","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async () => {\n    const response = await axios.get('/contacts');\n    return response.data;\n  },\n);\n\nexport const addContact = createAsyncThunk(\n  'contacts/addContact',\n  async contact => {\n    const response = await axios.post('/contacts', contact);\n    return response.data;\n  },\n);\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async id => {\n    await axios.delete(`/contacts/${id}`);\n    return id;\n  },\n);\n\nconst contactsOperations = {\n  fetchContacts,\n  addContact,\n  deleteContact,\n};\nexport default contactsOperations;\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log('Токена нет, уходим из fetchCurrentUser');\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUsername = state => state.auth.user.name;\n\nconst getIsFetchingCurrentUser = state => state.auth.isFetchingCurrentUser;\n\nconst getAuthError = state => state.auth.error;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsFetchingCurrentUser,\n  getAuthError,\n};\nexport default authSelectors;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.register.rejected](state, action) {\n      state.error = action.payload.error;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.error = action.payload.error;\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../../redux/auth';\nimport s from './Navigation.module.css';\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.active}>\n        Главная\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink to=\"/contacts\" className={s.link} activeClassName={s.active}>\n          Контакты\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import { useDispatch, useSelector } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from './default-avatar.png';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const avatar = defaultAvatar;\n\n  return (\n    <div className={s.container}>\n      <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} />\n      <span className={s.name}>Добро пожаловать, {name}</span>\n      <button\n        className={s.exit}\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Выйти\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Регистрация\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Логин\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from '../Navigation';\nimport UserMenu from '../UserMenu';\nimport AuthNav from '../AuthNav';\nimport { authSelectors } from '../../redux/auth';\nimport s from './AppBar.module.css';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header className={s.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\n\nexport default function PublicRoute({\n  children,\n  redirectTo = '/',\n  restricted = false,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch } from 'react-router-dom';\n\nimport AppBar from './components/AppBar';\nimport { authOperations, authSelectors } from 'redux/auth';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nconst HomeView = lazy(() => import('./pages/HomeView'));\nconst RegisterView = lazy(() => import('./pages/RegisterView'));\nconst LoginView = lazy(() => import('./pages/LoginView'));\nconst ContactsView = lazy(() => import('./pages/ContactsView'));\n\nfunction App() {\n  const dispatch = useDispatch();\n  const userName = useSelector(authSelectors.getUsername);\n  const isFetchingCurrentUser = useSelector(\n    authSelectors.getIsFetchingCurrentUser,\n  );\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isFetchingCurrentUser && (\n      <>\n        <AppBar />\n        <Switch>\n          <Suspense fallback={<p>Загрузка...</p>}>\n            <PublicRoute exact path=\"/\">\n              <HomeView name={userName ? userName : 'незнакомец'} />\n            </PublicRoute>\n            <PublicRoute path=\"/register\" redirectTo=\"/contacts\" restricted>\n              <RegisterView />\n            </PublicRoute>\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n              <LoginView />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/\">\n              <ContactsView />\n            </PrivateRoute>\n          </Suspense>\n        </Switch>\n      </>\n    )\n  );\n}\n\nexport default App;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactReducer from './contacts/contacts-reducer';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  blacklist: ['_persist'],\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    contacts: contactReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  devTools: process.env.NODE_ENV === 'development',\n  middleware,\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './App';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}